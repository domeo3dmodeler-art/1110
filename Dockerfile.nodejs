# –ü—Ä–æ—Å—Ç–æ–π Node.js —Å–µ—Ä–≤–µ—Ä –±–µ–∑ Next.js
FROM node:18-alpine

WORKDIR /app

# –°–æ–∑–¥–∞–Ω–∏–µ package.json
RUN echo '{"name":"domeo-doors","version":"1.0.0","scripts":{"start":"node server.js"},"dependencies":{"express":"^4.18.2"}}' > package.json

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
RUN npm install

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
RUN echo 'const express = require("express"); const app = express(); const port = 3000; app.use(express.static("public")); app.get("/", (req, res) => { res.send(`<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Domeo Doors - –ü–æ–ª–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</title><style>body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f5f5f5}nav{background-color:#f8f9fa;padding:1rem;border-bottom:1px solid #dee2e6}nav div{display:flex;justify-content:space-between;align-items:center}nav a{text-decoration:none;color:#333;font-size:1.5rem;font-weight:bold}nav div div{display:flex;gap:1rem}nav div div a{text-decoration:none;color:#666;font-size:1rem;font-weight:normal}.container{padding:2rem;max-width:1200px;margin:0 auto}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;margin-top:2rem}.card{padding:1rem;border:1px solid #ccc;border-radius:8px;background:white}.card h3{margin-top:0}.btn{display:inline-block;padding:0.5rem 1rem;color:white;text-decoration:none;border-radius:4px;border:none;cursor:pointer}.btn-primary{background-color:#007bff}.btn-success{background-color:#28a745}.btn-warning{background-color:#ffc107;color:black}.btn-purple{background-color:#6f42c1}.status{padding:1rem;background-color:#f0f8ff;border-radius:8px;margin-top:2rem}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:2rem}.stat-card{padding:1rem;border:1px solid #ddd;border-radius:8px;text-align:center;background:white}.stat-number{font-size:2rem;font-weight:bold}.stat-sales{color:#28a745}.stat-orders{color:#007bff}.stat-customers{color:#ffc107}</style></head><body><nav><div><a href="/">Domeo Doors</a><div><a href="/doors">–ö–∞—Ç–∞–ª–æ–≥</a><a href="/admin">–ê–¥–º–∏–Ω</a><a href="/dashboard">–î–∞—à–±–æ—Ä–¥</a><a href="/analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></div></div></nav><div class="container"><h1>Domeo Doors - –ü–æ–ª–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</h1><p>–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ —Å–∏—Å—Ç–µ–º—É –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ —Ä–∞—Å—á–µ—Ç–∞ –¥–≤–µ—Ä–µ–π!</p><div><h2>–û—Å–Ω–æ–≤–Ω—ã–µ —Ä–∞–∑–¥–µ–ª—ã:</h2><div class="grid"><div class="card"><h3>üö™ –ö–∞—Ç–∞–ª–æ–≥ –¥–≤–µ—Ä–µ–π</h3><p>–ü—Ä–æ—Å–º–æ—Ç—Ä –∏ –≤—ã–±–æ—Ä –¥–≤–µ—Ä–µ–π</p><a href="/doors" class="btn btn-primary">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</a></div><div class="card"><h3>‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h3><p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º</p><a href="/admin" class="btn btn-success">–û—Ç–∫—Ä—ã—Ç—å –∞–¥–º–∏–Ω</a></div><div class="card"><h3>üìä –î–∞—à–±–æ—Ä–¥</h3><p>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã</p><a href="/dashboard" class="btn btn-warning">–û—Ç–∫—Ä—ã—Ç—å –¥–∞—à–±–æ—Ä–¥</a></div><div class="card"><h3>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h3><p>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂</p><a href="/analytics" class="btn btn-purple">–û—Ç–∫—Ä—ã—Ç—å –∞–Ω–∞–ª–∏—Ç–∏–∫—É</a></div></div></div><div class="status"><h3>–°—Ç–∞—Ç—É—Å —Å–∏—Å—Ç–µ–º—ã:</h3><ul><li>‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–ø—É—â–µ–Ω–æ</li><li>‚úÖ API —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç</li><li>‚úÖ –í—Å–µ –º–æ–¥—É–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã</li><li>‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ä–∞–±–æ—Ç–µ</li></ul></div></div></body></html>`); }); app.get("/doors", (req, res) => { res.send(`<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>–ö–∞—Ç–∞–ª–æ–≥ –¥–≤–µ—Ä–µ–π - Domeo Doors</title><style>body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f5f5f5}nav{background-color:#f8f9fa;padding:1rem;border-bottom:1px solid #dee2e6}nav div{display:flex;justify-content:space-between;align-items:center}nav a{text-decoration:none;color:#333;font-size:1.5rem;font-weight:bold}nav div div{display:flex;gap:1rem}nav div div a{text-decoration:none;color:#666;font-size:1rem;font-weight:normal}.container{padding:2rem;max-width:1200px;margin:0 auto}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:1rem;margin-top:2rem}.card{padding:1rem;border:1px solid #ddd;border-radius:8px;background:white}.btn{padding:0.5rem 1rem;background-color:#007bff;color:white;border:none;border-radius:4px;cursor:pointer}</style></head><body><nav><div><a href="/">Domeo Doors</a><div><a href="/doors">–ö–∞—Ç–∞–ª–æ–≥</a><a href="/admin">–ê–¥–º–∏–Ω</a><a href="/dashboard">–î–∞—à–±–æ—Ä–¥</a><a href="/analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></div></div></nav><div class="container"><h1>üö™ –ö–∞—Ç–∞–ª–æ–≥ –¥–≤–µ—Ä–µ–π</h1><p>–ó–¥–µ—Å—å –±—É–¥–µ—Ç –∫–∞—Ç–∞–ª–æ–≥ –¥–≤–µ—Ä–µ–π —Å —Ñ–∏–ª—å—Ç—Ä–∞–º–∏ –∏ –ø–æ–∏—Å–∫–æ–º</p><div class="grid"><div class="card"><h3>–ú–µ–∂–∫–æ–º–Ω–∞—Ç–Ω—ã–µ –¥–≤–µ—Ä–∏</h3><p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –º–µ–∂–∫–æ–º–Ω–∞—Ç–Ω—ã—Ö –¥–≤–µ—Ä–µ–π</p><button class="btn">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</button></div><div class="card"><h3>–í—Ö–æ–¥–Ω—ã–µ –¥–≤–µ—Ä–∏</h3><p>–ö–æ–ª–ª–µ–∫—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–≤–µ—Ä–µ–π</p><button class="btn">–û—Ç–∫—Ä—ã—Ç—å –∫–∞—Ç–∞–ª–æ–≥</button></div></div></div></body></html>`); }); app.get("/admin", (req, res) => { res.send(`<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>–ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å - Domeo Doors</title><style>body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f5f5f5}nav{background-color:#f8f9fa;padding:1rem;border-bottom:1px solid #dee2e6}nav div{display:flex;justify-content:space-between;align-items:center}nav a{text-decoration:none;color:#333;font-size:1.5rem;font-weight:bold}nav div div{display:flex;gap:1rem}nav div div a{text-decoration:none;color:#666;font-size:1rem;font-weight:normal}.container{padding:2rem;max-width:1200px;margin:0 auto}.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:1rem;margin-top:2rem}.card{padding:1rem;border:1px solid #ddd;border-radius:8px;background:white}.btn{padding:0.5rem 1rem;border:none;border-radius:4px;cursor:pointer}.btn-success{background-color:#28a745;color:white}.btn-warning{background-color:#ffc107;color:black}.btn-purple{background-color:#6f42c1;color:white}</style></head><body><nav><div><a href="/">Domeo Doors</a><div><a href="/doors">–ö–∞—Ç–∞–ª–æ–≥</a><a href="/admin">–ê–¥–º–∏–Ω</a><a href="/dashboard">–î–∞—à–±–æ—Ä–¥</a><a href="/analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></div></div></nav><div class="container"><h1>‚öôÔ∏è –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å</h1><p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞—Ç–∞–ª–æ–≥–æ–º –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏</p><div class="grid"><div class="card"><h3>üì¶ –ò–º–ø–æ—Ä—Ç —Ç–æ–≤–∞—Ä–æ–≤</h3><p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–∞—Ç–∞–ª–æ–≥–∞ –∏–∑ Excel</p><button class="btn btn-success">–ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å</button></div><div class="card"><h3>üí∞ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ü–µ–Ω–∞–º–∏</h3><p>–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ü–µ–Ω –∏ —Å–∫–∏–¥–æ–∫</p><button class="btn btn-warning">–ù–∞—Å—Ç—Ä–æ–∏—Ç—å</button></div><div class="card"><h3>üë• –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏</h3><p>–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏</p><button class="btn btn-purple">–£–ø—Ä–∞–≤–ª—è—Ç—å</button></div></div></div></body></html>`); }); app.get("/dashboard", (req, res) => { res.send(`<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>–î–∞—à–±–æ—Ä–¥ - Domeo Doors</title><style>body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f5f5f5}nav{background-color:#f8f9fa;padding:1rem;border-bottom:1px solid #dee2e6}nav div{display:flex;justify-content:space-between;align-items:center}nav a{text-decoration:none;color:#333;font-size:1.5rem;font-weight:bold}nav div div{display:flex;gap:1rem}nav div div a{text-decoration:none;color:#666;font-size:1rem;font-weight:normal}.container{padding:2rem;max-width:1200px;margin:0 auto}.stats{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1rem;margin-top:2rem}.stat-card{padding:1rem;border:1px solid #ddd;border-radius:8px;text-align:center;background:white}.stat-number{font-size:2rem;font-weight:bold}.stat-sales{color:#28a745}.stat-orders{color:#007bff}.stat-customers{color:#ffc107}</style></head><body><nav><div><a href="/">Domeo Doors</a><div><a href="/doors">–ö–∞—Ç–∞–ª–æ–≥</a><a href="/admin">–ê–¥–º–∏–Ω</a><a href="/dashboard">–î–∞—à–±–æ—Ä–¥</a><a href="/analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></div></div></nav><div class="container"><h1>üìä –î–∞—à–±–æ—Ä–¥</h1><p>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã –ø–æ –ø—Ä–æ–¥–∞–∂–∞–º</p><div class="stats"><div class="stat-card"><h3>–û–±—â–∏–µ –ø—Ä–æ–¥–∞–∂–∏</h3><p class="stat-number stat-sales">1,234,567 ‚ÇΩ</p></div><div class="stat-card"><h3>–ó–∞–∫–∞–∑—ã</h3><p class="stat-number stat-orders">456</p></div><div class="stat-card"><h3>–ö–ª–∏–µ–Ω—Ç—ã</h3><p class="stat-number stat-customers">789</p></div></div></div></body></html>`); }); app.get("/analytics", (req, res) => { res.send(`<!DOCTYPE html><html lang="ru"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>–ê–Ω–∞–ª–∏—Ç–∏–∫–∞ - Domeo Doors</title><style>body{font-family:Arial,sans-serif;margin:0;padding:0;background-color:#f5f5f5}nav{background-color:#f8f9fa;padding:1rem;border-bottom:1px solid #dee2e6}nav div{display:flex;justify-content:space-between;align-items:center}nav a{text-decoration:none;color:#333;font-size:1.5rem;font-weight:bold}nav div div{display:flex;gap:1rem}nav div div a{text-decoration:none;color:#666;font-size:1rem;font-weight:normal}.container{padding:2rem;max-width:1200px;margin:0 auto}.chart{padding:2rem;border:1px solid #ddd;border-radius:8px;text-align:center;background-color:#f8f9fa;margin-top:2rem}</style></head><body><nav><div><a href="/">Domeo Doors</a><div><a href="/doors">–ö–∞—Ç–∞–ª–æ–≥</a><a href="/admin">–ê–¥–º–∏–Ω</a><a href="/dashboard">–î–∞—à–±–æ—Ä–¥</a><a href="/analytics">–ê–Ω–∞–ª–∏—Ç–∏–∫–∞</a></div></div></nav><div class="container"><h1>üìà –ê–Ω–∞–ª–∏—Ç–∏–∫–∞</h1><p>–ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –ø—Ä–æ–¥–∞–∂</p><div><h3>–ì—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–¥–∞–∂</h3><div class="chart"><p>–ó–¥–µ—Å—å –±—É–¥—É—Ç –≥—Ä–∞—Ñ–∏–∫–∏ –ø—Ä–æ–¥–∞–∂</p><p style="color:#666">–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏</p></div></div></div></body></html>`); }); app.get("/api/health", (req, res) => { res.json({ status: "ok", message: "Domeo Doors API is running", timestamp: new Date().toISOString(), version: "1.0.0" }); }); app.listen(port, "0.0.0.0", () => { console.log("Domeo Doors server running on port 3000"); });' > server.js

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
RUN addgroup --system --gid 1001 nodejs
RUN adduser --system --uid 1001 nextjs

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
RUN chown -R nextjs:nodejs /app
USER nextjs

# –û—Ç–∫—Ä—ã—Ç–∏–µ –ø–æ—Ä—Ç–∞
EXPOSE 3000

# –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
ENV NODE_ENV=production
ENV PORT=3000
ENV HOSTNAME="0.0.0.0"

# –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
CMD ["node", "server.js"]


