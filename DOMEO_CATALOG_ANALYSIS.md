# Анализ каталога товаров платформы DOMEO

## Общая информация

**Дата анализа:** 12 января 2025  
**Общее количество товаров:** 3,843  
**Статус платформы:** Активна и функционирует

## Структура каталога

### Основные категории товаров

1. **Межкомнатные двери** (основная категория)
   - Модели: 28 различных моделей
   - Стили: Современный, Классический, Скрытый
   - Примеры моделей:
     - DomeoDoors_Alberti_4
     - DomeoDoors_Atom_4
     - DomeoDoors_Base_1-4, Base_9
     - DomeoDoors_Cameron_1
     - DomeoDoors_Comet_1-2
     - DomeoDoors_Diamond_1
     - DomeoDoors_Emerald_1-2
     - DomeoDoors_Gabriel_1, Gabriel_4
     - DomeoDoors_Invisible
     - DomeoDoors_Ledoux_1-2
     - DomeoDoors_Meteor_1
     - DomeoDoors_Moonstone_1-3
     - DomeoDoors_Nebula_6
     - DomeoDoors_Ruby_1-2
     - DomeoDoors_Soane_1

2. **Комплекты фурнитуры**
   - Различные комплекты для дверей
   - Ценовые группы и категории

3. **Ручки**
   - 55 различных ручек
   - Группировка по типам и стилям

## Структура товара

### Основные поля товара

```json
{
  "id": "уникальный_идентификатор",
  "sku": "артикул_товара",
  "name": "название_товара",
  "description": "описание",
  "base_price": "базовая_цена",
  "stock_quantity": "количество_на_складе",
  "brand": "бренд",
  "model": "модель",
  "properties_data": "расширенные_свойства",
  "catalog_category_id": "id_категории",
  "images": "массив_изображений"
}
```

### Расширенные свойства товара (properties_data)

Каждый товар содержит детальные свойства в формате JSON:

#### Основные свойства дверей

- **Domeo_Название модели для Web** - название модели для веб-интерфейса
- **Domeo_Стиль Web** - стиль двери (Современный, Классический, Скрытый)
- **Общее_Тип покрытия** - тип покрытия (ПВХ, шпон, эмаль и др.)
- **Domeo_Цвет** - цвет двери
- **Ширина/мм** - ширина в миллиметрах
- **Высота/мм** - высота в миллиметрах
- **Толщина/мм** - толщина двери
- **Артикул поставщика** - артикул от поставщика

#### Технические характеристики

- **Группа** - групповая принадлежность
- **Ценовая группа** - ценовая категория
- **Наименование для Web** - название для веб-интерфейса
- **Domeo_наименование ручки_1С** - название ручки в системе 1С
- **Domeo_наименование для Web** - название для веб-интерфейса

#### Ценовая информация

- **Цена розничная** - розничная цена
- **Цена оптовая** - оптовая цена
- **Цена со скидкой** - цена со скидкой

#### Фотографии

- **photos** - массив URL фотографий товара
- Формат: `/uploads/products/{category_id}/{filename}`

## Система изображений

### Структура изображений

1. **Основные изображения товаров**
   - Хранятся в поле `photos` в `properties_data`
   - Формат: `/uploads/products/{category_id}/{filename}`
   - Поддерживаются форматы: PNG, JPG

2. **Система ProductImage**
   - Отдельная таблица для изображений
   - Поддержка множественных изображений
   - Сортировка по `sort_order`
   - Флаг `is_primary` для основного изображения

### API для работы с изображениями

- **GET /api/catalog/doors/photos** - получение фотографий по модели
- **GET /api/catalog/doors/photo** - получение фото по артикулу поставщика
- **GET /api/catalog/products/images** - работа с изображениями товаров

## Система фильтрации

### Доступные фильтры

1. **По стилю** - Современный, Классический, Скрытый
2. **По модели** - 28 различных моделей
3. **По покрытию** - ПВХ, шпон, эмаль и др.
4. **По цвету** - различные цвета
5. **По размерам** - ширина и высота
6. **По цене** - диапазон цен

### API фильтрации

- **POST /api/available-params** - получение доступных параметров
- **POST /api/catalog/filters** - получение фильтров по категориям
- **GET /api/catalog/products/filtered** - фильтрованные товары

## Система цен

### Расчет цен

- **POST /api/price/doors** - расчет цены двери
- Учитывает: стиль, модель, покрытие, цвет, размеры, фурнитуру, ручки
- Возвращает детализированную стоимость

### Компоненты цены

1. **Базовая цена двери** - зависит от модели и размеров
2. **Стоимость фурнитуры** - комплекты фурнитуры
3. **Стоимость ручек** - выбранные ручки
4. **Итоговая цена** - сумма всех компонентов

## Система поиска

### Возможности поиска

- **По SKU** - точный поиск по артикулу
- **По названию** - поиск по названию товара
- **По описанию** - поиск в описании
- **По свойствам** - поиск в расширенных свойствах

### API поиска

- **GET /api/catalog/products** - поиск товаров с параметрами
- **GET /api/catalog/doors/search** - специализированный поиск дверей

## Категории товаров

### Иерархическая структура

- **Уровень 1** - основные категории
- **Уровень 2** - подкатегории (например, "Межкомнатные двери")
- **Уровень 3+** - детализированные категории

### API категорий

- **GET /api/catalog/categories/tree** - дерево категорий
- **GET /api/catalog/categories** - список категорий
- **POST /api/catalog/categories** - создание категории

## Статистика каталога

### Общие показатели

- **Всего товаров:** 3,843
- **Категорий:** множественная иерархия
- **Моделей дверей:** 28
- **Стилей:** 3 (Современный, Классический, Скрытый)
- **Комплектов фурнитуры:** 3
- **Ручек:** 55

### Распределение по категориям

- **Межкомнатные двери** - основная категория
- **Комплекты фурнитуры** - вспомогательные товары
- **Ручки** - аксессуары

## Техническая архитектура

### База данных

- **ORM:** Prisma
- **База данных:** SQLite (dev.db)
- **Основные таблицы:**
  - `products` - товары
  - `product_images` - изображения товаров
  - `catalog_categories` - категории каталога
  - `product_properties` - свойства товаров

### API Endpoints

#### Основные API

- `/api/catalog/products` - работа с товарами
- `/api/catalog/categories` - работа с категориями
- `/api/catalog/doors/*` - специализированные API для дверей
- `/api/price/doors` - расчет цен
- `/api/available-params` - доступные параметры

#### Административные API

- `/api/admin/products` - управление товарами
- `/api/admin/categories` - управление категориями
- `/api/admin/import/*` - импорт данных

## Рекомендации по использованию

### Для разработчиков

1. **Используйте кэширование** - API поддерживает кэширование для повышения производительности
2. **Обрабатывайте ошибки** - все API возвращают структурированные ошибки
3. **Используйте пагинацию** - для больших списков товаров
4. **Проверяйте доступность** - некоторые API требуют аутентификации

### Для пользователей

1. **Начните с выбора стиля** - это сузит выбор моделей
2. **Используйте фильтры** - для точного подбора товаров
3. **Проверяйте фотографии** - каждый товар имеет изображения
4. **Рассчитывайте цену** - используйте API расчета цен

## Заключение

Каталог товаров платформы DOMEO представляет собой полнофункциональную систему управления товарами с:

- **Богатым ассортиментом** - 3,843 товара
- **Детализированными свойствами** - каждое свойство товара задокументировано
- **Системой изображений** - поддержка множественных фотографий
- **Гибкой фильтрацией** - поиск по различным критериям
- **Автоматическим расчетом цен** - учет всех компонентов
- **RESTful API** - полный набор API для интеграции

Платформа готова к использованию как для внутренних нужд компании, так и для интеграции с внешними системами.
